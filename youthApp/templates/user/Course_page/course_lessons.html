{% extends 'index.html' %}
{% load static %}

{% block content %}
<div class="max-w-4xl mx-auto mt-10 bg-white p-6 rounded shadow">
    <h2 class="text-2xl font-bold mb-6">{{ course.course_name }} - Lessons</h2>

    {% if lessons %}
        <ul class="space-y-6">
            {% for lesson in lessons %}
                <li class="mb-6 p-4 border rounded bg-white shadow">
                    <h3 class="text-lg font-semibold">{{ lesson.title }}</h3>

                    {% if lesson.lesson_type == "video" %}
                        <div class="mt-2">
                            <iframe class="w-full h-64 rounded" src="{{ lesson.video_url }}" frameborder="0" allowfullscreen></iframe>
                        </div>
                    {% elif lesson.lesson_type == "text" %}
                        <p class="mt-2 text-gray-700">{{ lesson.text_content|linebreaks }}</p>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p class="text-gray-500">No lessons available for this course yet.</p>
    {% endif %}
</div>
{% endblock %}
